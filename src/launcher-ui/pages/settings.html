<div class="grid">
    <span id="data" class="container card">
        <span class="title">Settings</span>
    <span class="content">
            <p>
                <span class="two-grid">
                    <span>Update channel</span>
    <span>
                        <span class="input">
                            <input type="radio" id="channel-main" name="channel" value="channel-main">
                            <label for="channel-main">Stable</label>
                        </span>
    <span class="input">
                            <input type="radio" id="channel-dev" name="channel" value="channel-dev">
                            <label for="channel-dev">Experimental</label>
                        </span>
    </span>
    </span>
    </p>

    <p>
        <button class="channel-dev" onclick="executeCommand('switch-channel', {'channel': 'main'})">Switch to
                    main channel</button>
        <button class="channel-main" onclick="executeCommand('switch-channel', {'channel': 'dev'})">Switch to
                    develop channel</button>
    </p>
    </span>
    </span>
</div>

<style>
    #content>.grid {
        display: flex;
        width: 100%;
    }
    
    #data {
        flex: 1 1 auto;
    }
</style>

<script>
    function handleChannelChange() {
        const id = this.id;
        const newChannel = id.substring(8);
        console.log(newChannel);

        window.channel.then(channel => {
            if (channel == newChannel) {
                return;
            }
        });
    }

    function checkCurrentChannelRadio() {
        window.channel.then(channel => {
            document.querySelector(`input#channel-${channel}`).checked = true;
        });
    }

    checkCurrentChannelRadio();

    var nodes = document.querySelectorAll('input[name="channel"]');
    for (var i = 0; i < nodes.length; ++i) {
        nodes[i].onclick = handleChannelChange;
    }
</script>